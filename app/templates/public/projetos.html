{% extends "public/base.html" %}

{% block title %}Projetos e Parcerias - Doce Esperança{% endblock %}

{% block content %}
  <div class="container py-5">
    <section id="parcerias" class="mb-5">
      <div class="text-center mb-4">
        <h2 class="fw-bold">Parcerias</h2>
        <p class="text-muted mb-0">Conheça quem caminha conosco para fortalecer nossos projetos.</p>
      </div>
      {% if parceiros %}
        <div class="row g-4">
          {% for parceiro in parceiros %}
            <div class="col-md-4">
              <div class="card h-100 shadow-sm">
                {% if parceiro.logo_path %}
                  <img src="{{ static_url(parceiro.logo_path) }}" alt="Logo {{ parceiro.nome }}" class="card-img-top img-fluid object-fit-contain p-4" style="height: 200px;">
                {% endif %}
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">{{ parceiro.nome }}</h5>
                  {% if parceiro.descricao %}
                    <p class="card-text">{{ parceiro.descricao }}</p>
                  {% endif %}
                  {% if parceiro.website %}
                    <a class="btn btn-outline-primary mt-auto" href="{{ parceiro.website }}" target="_blank" rel="noopener">
                      Ver detalhes
                    </a>
                  {% else %}
                    <span class="btn btn-outline-secondary disabled mt-auto" tabindex="-1" role="button" aria-disabled="true">
                      Detalhes indisponíveis
                    </span>
                  {% endif %}
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="alert alert-info shadow-sm" role="status">
          {{ (parceiros_placeholder.conteudo if parceiros_placeholder and parceiros_placeholder.conteudo else content_placeholder) | safe }}
        </div>
      {% endif %}
    </section>

    <section id="apoios" class="mb-5">
      <div class="text-center mb-4">
        <h2 class="fw-bold">Redes de Apoio</h2>
        <p class="text-muted mb-0">Instituições que contribuem com recursos e iniciativas estratégicas.</p>
      </div>
      {% if apoios %}
        <div class="row g-4">
          {% for apoio in apoios %}
            <div class="col-md-4">
              <div class="card h-100 shadow-sm">
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">{{ apoio.titulo }}</h5>
                  <p class="card-text">{{ apoio.descricao }}</p>
                  <span class="btn btn-outline-secondary disabled mt-auto" tabindex="-1" role="button" aria-disabled="true">
                    Ver detalhes
                  </span>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="alert alert-info shadow-sm" role="status">
          {{ (apoios_placeholder.conteudo if apoios_placeholder and apoios_placeholder.conteudo else content_placeholder) | safe }}
        </div>
      {% endif %}
    </section>

    <section id="voluntariado" class="mb-5">
      <div class="text-center mb-4">
        <h2 class="fw-bold">Voluntariado</h2>
        <p class="text-muted mb-0">Pessoas que doam tempo e talento para transformar realidades.</p>
      </div>
      {% if voluntarios %}
        <div class="row g-4">
          {% for voluntario in voluntarios %}
            <div class="col-md-4">
              <div class="card h-100 shadow-sm">
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">{{ voluntario.nome }}</h5>
                  {% if voluntario.area %}
                    <p class="card-text mb-1"><strong>Área de atuação:</strong> {{ voluntario.area }}</p>
                  {% endif %}
                  {% if voluntario.disponibilidade %}
                    <p class="card-text mb-2"><strong>Disponibilidade:</strong> {{ voluntario.disponibilidade }}</p>
                  {% endif %}
                  {% if voluntario.descricao %}
                    <p class="card-text">{{ voluntario.descricao }}</p>
                  {% endif %}
                  <span class="btn btn-outline-secondary disabled mt-auto" tabindex="-1" role="button" aria-disabled="true">
                    Ver detalhes
                  </span>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="alert alert-info shadow-sm" role="status">
          {{ (voluntarios_placeholder.conteudo if voluntarios_placeholder and voluntarios_placeholder.conteudo else content_placeholder) | safe }}
        </div>
      {% endif %}
    </section>

    <section id="transparencia" class="mb-3">
      <div class="text-center mb-4">
        <h2 class="fw-bold">Portal da Transparência</h2>
        <p class="text-muted mb-0">Acompanhe documentos e relatórios que reforçam nosso compromisso com a transparência.</p>
      </div>
      {% if documentos %}
        <div class="row g-4">
          {% for documento in documentos %}
            <div class="col-md-4">
              <div class="card h-100 border-0 shadow-sm">
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">{{ documento.titulo }}</h5>
                  {% if documento.descricao %}
                    <p class="card-text">{{ documento.descricao }}</p>
                  {% endif %}
                  <a class="btn btn-outline-primary mt-auto" href="{{ static_url(documento.arquivo_path) }}" target="_blank" rel="noopener">
                    Ver detalhes
                  </a>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="alert alert-info shadow-sm" role="status">
          {{ (transparencia_placeholder.conteudo if transparencia_placeholder and transparencia_placeholder.conteudo else content_placeholder) | safe }}
        </div>
      {% endif %}
    </section>
  </div>
{% endblock %}
